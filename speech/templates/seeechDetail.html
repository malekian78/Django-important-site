{% extends 'base.html' %}
{% load static %}
{% load jalali_filters %}

{% block stylesImports %}
  {% comment %} <link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mediaelement/4.2.7/mediaelementplayer.min.css" rel="stylesheet" />
  <link href="{% static './speech-styles.css' %}" rel="stylesheet" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia" /> {% endcomment %}

  <link href="{% static './speech-detail-style.css' %}" rel="stylesheet" />
{% endblock %}

{% block javaScripImports %}
  <script src="{% static './speech-detail.js' %}"></script>
{% endblock %}

{% block content %}
  <div class="main-introduce">
    <div class="main-description">
      <h1>{{ theSpeech.title }}</h1>
      <p>{{ theSpeech.sumary }}</p>
      <div class="other-feature">
        <div class="icon">
          <!-- Ø¢ÛŒÚ©Ù† ØªÙˆ Ù¾Ø± -->
          {% comment %} <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256"><g fill="currentColor" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(8.53333,8.53333)"><path d="M15,5c-8.9183,0 -14.67901,9.21118 -14.7832,9.37891c-0.14024,0.17666 -0.21665,0.39554 -0.2168,0.62109c0.00018,0.1935 0.05649,0.38279 0.16211,0.54492c0.0013,0.00196 0.0026,0.00391 0.00391,0.00586c0.01719,0.03548 4.85282,9.44922 14.83398,9.44922c9.93882,0 14.76733,-9.32126 14.82617,-9.43555c0.00398,-0.00647 0.00789,-0.01298 0.01172,-0.01953c0.10562,-0.16213 0.16193,-0.35142 0.16211,-0.54492c-0.00004,-0.22465 -0.07572,-0.44275 -0.21484,-0.61914c-0.00065,-0.00065 -0.0013,-0.0013 -0.00195,-0.00195c-0.10419,-0.16773 -5.86491,-9.37891 -14.7832,-9.37891zM15,8c3.866,0 7,3.134 7,7c0,3.866 -3.134,7 -7,7c-3.866,0 -7,-3.134 -7,-7c0,-3.866 3.134,-7 7,-7zM15,12c-1.65685,0 -3,1.34315 -3,3c0,1.65685 1.34315,3 3,3c1.65685,0 3,-1.34315 3,-3c0,-1.65685 -1.34315,-3 -3,-3z"></path></g></g></svg> {% endcomment %}
          <!-- Ø¢ÛŒÚ©Ù† ØªÙˆ Ø®Ø§Ù„ÛŒ -->
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256"><g fill="currentColor" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(5.12,5.12)"><path d="M25,12c-13.33203,0 -23.75,12.34375 -23.75,12.34375c-0.32812,0.375 -0.32812,0.9375 0,1.3125c0,0 10.41797,12.34375 23.75,12.34375c13.33203,0 23.75,-12.34375 23.75,-12.34375c0.32813,-0.375 0.32813,-0.9375 0,-1.3125c0,0 -10.41797,-12.34375 -23.75,-12.34375zM25,14c2.62891,0 5.14063,0.54297 7.46875,1.375c1.5625,1.76563 2.53125,4.07422 2.53125,6.625c0,5.53516 -4.46484,10 -10,10c-5.53516,0 -10,-4.46484 -10,-10c0,-2.55078 0.9375,-4.85937 2.5,-6.625c2.33594,-0.83594 4.86328,-1.375 7.5,-1.375zM14.1875,16.84375c-0.75,1.5625 -1.1875,3.3125 -1.1875,5.15625c0,6.61719 5.38281,12 12,12c6.61719,0 12,-5.38281 12,-12c0,-1.83594 -0.41797,-3.59375 -1.15625,-5.15625c5.64844,2.87109 9.71094,7.03516 10.75,8.15625c-1.625,1.75781 -10.62109,11 -21.59375,11c-10.97266,0 -19.96875,-9.24219 -21.59375,-11c1.03906,-1.125 5.12109,-5.28516 10.78125,-8.15625zM25,17c-2.76172,0 -5,2.23828 -5,5c0,2.76172 2.23828,5 5,5c2.76172,0 5,-2.23828 5,-5c0,-2.76172 -2.23828,-5 -5,-5z"></path></g></g></svg>
        </div>
        <span>{{theSpeech.visit_count}}10</span>
      </div>
      <div class="other-feature">
        <div class="icon">
          <!-- Ø¢ÛŒÚ©Ù† ØªÙˆ Ù¾Ø± -->
          {% comment %} <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256"><g fill="currentColor" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(8.53333,8.53333)"><path d="M9.54492,4c-3.615,0 -6.54492,2.92992 -6.54492,6.54492c0,6.2924 7.29898,12.30488 10.70898,14.98242c0.00325,0.00261 0.0065,0.00522 0.00977,0.00781c0.02337,0.01834 0.05513,0.04447 0.07813,0.0625l0.00195,-0.00195c0.34597,0.26142 0.76754,0.40331 1.20117,0.4043c0.4343,-0.00056 0.85662,-0.14248 1.20313,-0.4043v0.00195c0.00673,-0.00528 0.01668,-0.01227 0.02344,-0.01758c0.00514,-0.00403 0.01242,-0.00962 0.01758,-0.01367c0.00655,-0.00582 0.01306,-0.01168 0.01953,-0.01758c3.39944,-2.66792 10.73633,-8.69649 10.73633,-15.00391c0,-3.615 -2.92992,-6.54492 -6.54492,-6.54492c-3.455,0 -5.45508,3 -5.45508,3c0,0 -2.00008,-3 -5.45508,-3z"></path></g></g></svg>         {% endcomment %}
          <!-- Ø¢ÛŒÚ©Ù† ØªÙˆ Ø®Ø§Ù„ÛŒ -->
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256"><g fill="currentColor" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(5.12,5.12)"><path d="M15,7c-7.16797,0 -13,5.83203 -13,13c0,14.76172 16.69531,22.04688 22.375,26.78125l0.625,0.53125l0.625,-0.53125c5.67969,-4.73437 22.375,-12.01953 22.375,-26.78125c0,-7.16797 -5.83203,-13 -13,-13c-4.05469,0 -7.61719,1.92578 -10,4.84375c-2.38281,-2.91797 -5.94531,-4.84375 -10,-4.84375zM15,9c3.83594,0 7.1875,1.96875 9.15625,4.9375l0.84375,1.25l0.84375,-1.25c1.96875,-2.96875 5.32031,-4.9375 9.15625,-4.9375c6.08594,0 11,4.91406 11,11c0,12.89844 -14.40625,19.57422 -21,24.78125c-6.59375,-5.20703 -21,-11.88281 -21,-24.78125c0,-6.08594 4.91406,-11 11,-11z"></path></g></g></svg>
        </div>
        <span>0</span>
      </div>
      
    </div>
    <div class="main-image">
      <img src="{{ theSpeech.image.url }}" alt="{{ theSpeech.title }}" />
    </div>
  </div>

  {% comment %}! {{ theSpeech.visit_count }} {% endcomment %}
  {% comment %} {{ theSpeech.like }} {% endcomment %}
  

  <div class="features">
    {% if theSpeech.cultural %}
    <div class="feature-card">
      <div class="icon" style="width: 70px; height: 50px;">
        <img  src="{{ theSpeech.cultural.image.url }}" alt="{{ theSpeech.cultural.title }}" />
      </div>
      <span>{{ theSpeech.cultural.title }}</span>
    </div>
    {% endif %}

    <div class="feature-card">
      <div class="icon" style="width: 35px;">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256"><g fill="#192d2f" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(5.12,5.12)"><path d="M8,3c-0.55078,0 -1,0.44922 -1,1v4c0,0.55078 0.44922,1 1,1h3v3c0,0.55078 0.44922,1 1,1h1v2.3125c0,4.29688 2.57813,7.97656 6.25,9.6875c-3.67187,1.71094 -6.25,5.39063 -6.25,9.6875v2.3125h-1c-0.55078,0 -1,0.44531 -1,1v3h-3c-0.55078,0 -1,0.44531 -1,1v4c0,0.55469 0.44922,1 1,1h34c0.55469,0 1,-0.44531 1,-1v-4c0,-0.55469 -0.44531,-1 -1,-1h-3v-3c0,-0.55469 -0.44531,-1 -1,-1h-1v-2.3125c0,-4.29687 -2.57812,-7.97656 -6.25,-9.6875c3.67188,-1.71094 6.25,-5.39062 6.25,-9.6875v-2.3125h1c0.55469,0 1,-0.44922 1,-1v-3h3c0.55469,0 1,-0.44922 1,-1v-4c0,-0.55078 -0.44531,-1 -1,-1zM15,13h20v2.3125c0,4.57813 -3.60547,8.32813 -8.09375,8.6875c-0.54687,0.00781 -0.98437,0.45313 -0.98437,1c0,0.54688 0.4375,0.99219 0.98438,1c4.48828,0.35938 8.09375,4.10938 8.09375,8.6875v2.3125h-20v-2.3125c0,-4.57812 3.60547,-8.32812 8.09375,-8.6875c0.54688,-0.00781 0.98438,-0.45312 0.98438,-1c0,-0.54687 -0.4375,-0.99219 -0.98437,-1c-4.48828,-0.35937 -8.09375,-4.10937 -8.09375,-8.6875zM18,17c0,0 1.80078,5 7,5c5.19922,0 7,-5 7,-5zM25,30c-4.05078,0 -6.26172,3.63281 -7.28125,6h14.5625c-1.01953,-2.36719 -3.23047,-6 -7.28125,-6z"></path></g></g></svg>
      </div>
      <span>{{minutes}} Ø¯Ù‚ÛŒÙ‚Ù‡</span>
    </div>

    <div class="feature-card">
      <div class="icon" style="width: 35px;">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256"><g fill="#192d2f" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(5.12,5.12)"><path d="M12,0c-1.09375,0 -2,0.90625 -2,2v2h-6c-1.16016,0 -2,0.83984 -2,2v7h46v-7c0,-1.16016 -0.83984,-2 -2,-2h-6v-2c0,-1.09375 -0.90625,-2 -2,-2h-2c-1.09375,0 -2,0.90625 -2,2v2h-18v-2c0,-1.09375 -0.90625,-2 -2,-2zM12,2h2v6h-2zM36,2h2v6h-2zM2,15v31c0,1.16016 0.83984,2 2,2h42c1.16016,0 2,-0.83984 2,-2v-31zM12,21h5v5h-5zM19,21h5v5h-5zM26,21h5v5h-5zM33,21h5v5h-5zM12,28h5v5h-5zM19,28h5v5h-5zM26,28h5v5h-5zM33,28h5v5h-5zM12,35h5v5h-5zM19,35h5v5h-5zM26,35h5v5h-5zM33,35h5v5h-5z"></path></g></g></svg>
      </div>
      <span>{{ theSpeech.event_date_time|jalali_verbose }}</span>
    </div>

    <div class="feature-card">
      <div class="icon" style="width: 35px;">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256"><g fill="#192d2f" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(5.12,5.12)"><path d="M25,1c-8.82031,0 -16,7.17969 -16,16c0,14.11328 14.62891,30.94531 15.25,31.65625c0.19141,0.21875 0.46094,0.34375 0.75,0.34375c0.30859,-0.01953 0.55859,-0.125 0.75,-0.34375c0.62109,-0.72266 15.25,-17.84375 15.25,-31.65625c0,-8.82031 -7.17969,-16 -16,-16zM25,12c3.3125,0 6,2.6875 6,6c0,3.3125 -2.6875,6 -6,6c-3.3125,0 -6,-2.6875 -6,-6c0,-3.3125 2.6875,-6 6,-6z"></path></g></g></svg>
      </div>
      <span>{{theSpeech.location}}</span>
    </div>
  </div>

  <div id="transcript">
    <h3>Ù…ØªÙ† Ø³Ø®Ù†Ø±Ø§Ù†ÛŒ:</h3>
    {% for item in lyric %}
      <div class="line" data-start="{{ item.start }}" data-end="{{ item.end }}" id="line-{{ forloop.counter }}">{{ item.text }}</div>
    {% endfor %}
  </div>

  <div class="audio-container">
    <div class="audio-player">
      <audio id="audio" preload="metadata">
      {% if  theSpeech.audio_link %}
      <source src="{{ theSpeech.audio_link }}" type="audio/mpeg" />
      {% else %}
      <source src="{{ theSpeech.audio_file.url }}" type="audio/mpeg" />
      {% endif %}
      </audio>

      <div class="ap-left">
        <button id="btn-play" class="ap-btn">
          <!-- Play SVG -->
          â–¶
        </button>

        <button id="btn-prev" class="ap-btn">â®</button>
        <button id="btn-next" class="ap-btn">â­</button>

        <button id="btn-loop" class="ap-btn">ğŸ”</button>
        <button id="btn-share" class="ap-btn">â†ª</button>
      </div>

      <div class="ap-right">
        <span id="ap-current">00:00</span>
        <span>/</span>
        <span id="ap-duration">00:00</span>
      </div>
    </div>
    {% comment %} <div class="ap-progress-container">
      <input id="ap-progress" type="range" min="0" value="0" step="0.1" />
    </div> {% endcomment %}
    <div class="ap-progress-container">
      <div id="ap-bar">
        <div id="ap-bar-fill"></div>
        <div id="ap-bar-thumb"></div>
        <div id="ap-tooltip"></div>
      </div>
    </div>
  </div>

  <div style="width: 100%; margin-bottom: 100px;"></div>
{% endblock %}
